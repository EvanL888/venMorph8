<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Venmorph - Cross-Chain Crypto Payments</title>
    
    <!-- GemWallet API -->
    <script src="https://unpkg.com/@gemwallet/api@3.8.0/umd/gemwallet-api.js"></script>
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="base.css">
    <link rel="stylesheet" href="components.css">
    <link rel="stylesheet" href="pages.css">
    <link rel="stylesheet" href="animations.css">
    <link rel="stylesheet" href="responsive.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo" onclick="showHome()">
                <div class="logo-icon">
                    <svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#c1e328;stop-opacity:1" />
                                <stop offset="50%" style="stop-color:#a8c920;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#8fb018;stop-opacity:1" />
                            </linearGradient>
                            <filter id="glow">
                                <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                                <feMerge> 
                                    <feMergeNode in="coloredBlur"/>
                                    <feMergeNode in="SourceGraphic"/>
                                </feMerge>
                            </filter>
                        </defs>
                        
                        <g transform="translate(30, 30)">
                            <path d="M30 10 L50 20 L45 40 L25 45 L10 35 L15 15 Z" 
                                  fill="none" stroke="url(#logoGradient)" stroke-width="3" opacity="0.6">
                                <animateTransform attributeName="transform" type="rotate" 
                                                  values="0 30 30;360 30 30" dur="12s" repeatCount="indefinite"/>
                            </path>
                            
                            <path d="M30 15 L40 22 L38 35 L28 38 L18 32 L20 22 Z" 
                                  fill="url(#logoGradient)" opacity="0.8">
                                <animateTransform attributeName="transform" type="rotate" 
                                                  values="0 30 30;-360 30 30" dur="8s" repeatCount="indefinite"/>
                            </path>
                            
                            <path d="M25 20 L30 32 L35 20" fill="none" stroke="#21211f" stroke-width="3" stroke-linecap="round"/>
                            
                            <circle cx="15" cy="25" r="3" fill="#c1e328">
                                <animate attributeName="opacity" values="0.5;1;0.5" dur="2s" repeatCount="indefinite"/>
                            </circle>
                            <circle cx="45" cy="25" r="3" fill="#c1e328">
                                <animate attributeName="opacity" values="1;0.5;1" dur="2s" repeatCount="indefinite"/>
                            </circle>
                            <circle cx="30" cy="45" r="3" fill="#c1e328">
                                <animate attributeName="opacity" values="0.7;1;0.7" dur="2.5s" repeatCount="indefinite"/>
                            </circle>
                        </g>
                    </svg>
                </div>
                <div class="logo-text">
                    <span class="logo-ven">ven</span><span class="logo-morph">Morph</span><span class="logo-dot">.</span>
                </div>
            </div>
            
            <!-- Navigation Bar -->
            <nav class="main-nav">
                <div class="nav-links">
                    <button class="nav-link active" onclick="showHome()" id="homeNav">
                        <span class="nav-icon">üè†</span>
                        <span>Home</span>
                    </button>
                    <button class="nav-link" onclick="showRequestPage()" id="requestNav">
                        <span class="nav-icon">üìù</span>
                        <span>Request</span>
                    </button>
                    <button class="nav-link" onclick="showPayPage()" id="payNav">
                        <span class="nav-icon">üí∞</span>
                        <span>Pay</span>
                    </button>
                </div>
            </nav>
            
            <div class="wallet-container">
                <button class="connect-wallet" id="connectWalletBtn" onclick="toggleWalletDropdown()">
                    <span id="walletBtnText">Connect Wallet</span>
                    <svg class="wallet-arrow" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                        <path fill="currentColor" d="M8 12l-4-4h8z"/>
                    </svg>
                </button>
                <div class="wallet-dropdown" id="walletDropdown">
                    <div class="wallet-option" onclick="connectXRPL()">
                        <div class="wallet-icon xrpl-icon">üíé</div>
                        <span>XRPL Wallet</span>
                    </div>
                    <div class="wallet-option" onclick="connectMetaMask()">
                        <div class="wallet-icon metamask-icon">ü¶ä</div>
                        <span>MetaMask</span>
                    </div>
                    <div class="wallet-option" onclick="connectWalletConnect()">
                        <div class="wallet-icon walletconnect-icon">üîó</div>
                        <span>WalletConnect</span>
                    </div>
                    <div class="wallet-option" onclick="connectCoinbase()">
                        <div class="wallet-icon coinbase-icon">üü¶</div>
                        <span>Coinbase Wallet</span>
                    </div>
                </div>
                <div class="wallet-info" id="walletInfo" style="display: none;">
                    <div class="wallet-account">
                        <div class="account-avatar" id="accountAvatar">üë§</div>
                        <div class="account-details">
                            <div class="account-address" id="accountAddress">0x...</div>
                            <div class="account-balance" id="accountBalance">0 ETH</div>
                        </div>
                    </div>
                    <button class="disconnect-btn" onclick="disconnectWallet()">Disconnect</button>
                </div>
            </div>
        </header>

        <!-- HOME PAGE -->
        <div class="home-page" id="homePage">
            <div class="hero-section">
                <h1 class="hero-title">Request, Transform, Receive.</h1>
                <p class="hero-subtitle">Real Time Flare Pricing ‚Ä¢ XRPL settlement in seconds</p>
            </div>

            <div class="features-section">
                <div class="feature-item" data-feature="lightning">
                    <div class="feature-content">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <svg viewBox="0 0 120 80" width="120" height="80" xmlns="http://www.w3.org/2000/svg">
                                    <defs>
                                        <linearGradient id="speedGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" style="stop-color:#c1e328;stop-opacity:1" />
                                            <stop offset="50%" style="stop-color:#ffffff;stop-opacity:1" />
                                            <stop offset="100%" style="stop-color:#c1e328;stop-opacity:0.8" />
                                        </linearGradient>
                                        <filter id="lightningGlow">
                                            <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                                            <feMerge> 
                                                <feMergeNode in="coloredBlur"/>
                                                <feMergeNode in="SourceGraphic"/>
                                            </feMerge>
                                        </filter>
                                    </defs>
                                    <g transform="translate(20, 10)">
                                        <path d="M40 5 L30 30 L45 30 L20 60 L50 25 L35 25 L45 5 Z" 
                                              fill="url(#speedGradient)" stroke="url(#speedGradient)" stroke-width="2" 
                                              filter="url(#lightningGlow)">
                                            <animate attributeName="opacity" values="0.8;1;0.8" dur="2s" repeatCount="indefinite"/>
                                        </path>
                                        
                                        <circle cx="60" cy="20" r="3" fill="#c1e328" opacity="0.8">
                                            <animate attributeName="opacity" values="0.8;0.2;0.8" dur="1s" repeatCount="indefinite"/>
                                            <animate attributeName="r" values="3;5;3" dur="1s" repeatCount="indefinite"/>
                                        </circle>
                                        <circle cx="70" cy="35" r="2" fill="#c1e328" opacity="0.6">
                                            <animate attributeName="opacity" values="0.6;0.1;0.6" dur="1.5s" repeatCount="indefinite"/>
                                            <animate attributeName="r" values="2;4;2" dur="1.5s" repeatCount="indefinite"/>
                                        </circle>
                                        <circle cx="65" cy="50" r="2.5" fill="#c1e328" opacity="0.7">
                                            <animate attributeName="opacity" values="0.7;0.15;0.7" dur="1.2s" repeatCount="indefinite"/>
                                            <animate attributeName="r" values="2.5;4.5;2.5" dur="1.2s" repeatCount="indefinite"/>
                                        </circle>
                                        
                                        <path d="M5 15 L25 15" stroke="#c1e328" stroke-width="2" stroke-linecap="round" opacity="0.4">
                                            <animate attributeName="opacity" values="0.4;0.8;0.4" dur="1.8s" repeatCount="indefinite"/>
                                        </path>
                                        <path d="M10 25 L30 25" stroke="#c1e328" stroke-width="2" stroke-linecap="round" opacity="0.3">
                                            <animate attributeName="opacity" values="0.3;0.7;0.3" dur="2.2s" repeatCount="indefinite"/>
                                        </path>
                                        <path d="M15 35 L35 35" stroke="#c1e328" stroke-width="2" stroke-linecap="round" opacity="0.5">
                                            <animate attributeName="opacity" values="0.5;0.9;0.5" dur="1.6s" repeatCount="indefinite"/>
                                        </path>
                                    </g>
                                </svg>
                            </div>
                            <h3 class="feature-title">Instant Settlement</h3>
                            <p class="feature-description">Sub-second XRPL transactions powered by Flare Oracle's real-time pricing. Experience the fastest cross-chain payments in DeFi.</p>
                        </div>
                    </div>
                </div>

                <div class="feature-item" data-feature="crosschain">
                    <div class="feature-content">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <svg viewBox="0 0 100 100" width="64" height="64" xmlns="http://www.w3.org/2000/svg">
                                    <defs>
                                        <linearGradient id="chainGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" style="stop-color:#c1e328;stop-opacity:1" />
                                            <stop offset="100%" style="stop-color:#ffffff;stop-opacity:0.8" />
                                        </linearGradient>
                                    </defs>
                                    <g transform="translate(5, 10)">
                                        <circle cx="20" cy="20" r="12" fill="none" stroke="url(#chainGradient)" stroke-width="4"/>
                                        <circle cx="70" cy="20" r="12" fill="none" stroke="url(#chainGradient)" stroke-width="4"/>
                                        <circle cx="20" cy="70" r="12" fill="none" stroke="url(#chainGradient)" stroke-width="4"/>
                                        <circle cx="70" cy="70" r="12" fill="none" stroke="url(#chainGradient)" stroke-width="4"/>
                                        <circle cx="45" cy="45" r="15" fill="none" stroke="url(#chainGradient)" stroke-width="4"/>
                                        
                                        <path d="M32 20 L55 35" stroke="url(#chainGradient)" stroke-width="3"/>
                                        <path d="M58 20 L55 35" stroke="url(#chainGradient)" stroke-width="3"/>
                                        <path d="M32 70 L35 55" stroke="url(#chainGradient)" stroke-width="3"/>
                                        <path d="M58 70 L55 55" stroke="url(#chainGradient)" stroke-width="3"/>
                                        
                                        <circle cx="40" cy="27" r="2" fill="url(#chainGradient)">
                                            <animateMotion dur="2s" repeatCount="indefinite">
                                                <path d="M0,0 L15,18 L-15,18 Z"/>
                                            </animateMotion>
                                        </circle>
                                        <circle cx="50" cy="63" r="2" fill="url(#chainGradient)">
                                            <animateMotion dur="2.5s" repeatCount="indefinite">
                                                <path d="M0,0 L-15,-18 L15,-18 Z"/>
                                            </animateMotion>
                                        </circle>
                                    </g>
                                </svg>
                            </div>
                            <h3 class="feature-title">Universal Compatibility</h3>
                            <p class="feature-description">Request any token, pay with any asset. Our intelligent routing seamlessly bridges Ethereum, XRP Ledger, and beyond.</p>
                        </div>
                    </div>
                </div>

                <div class="feature-item" data-feature="proof">
                    <div class="feature-content">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <svg viewBox="0 0 100 100" width="64" height="64" xmlns="http://www.w3.org/2000/svg">
                                    <defs>
                                        <linearGradient id="shieldGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" style="stop-color:#c1e328;stop-opacity:1" />
                                            <stop offset="100%" style="stop-color:#ffffff;stop-opacity:0.8" />
                                        </linearGradient>
                                    </defs>
                                    <g transform="translate(15, 10)">
                                        <path d="M35 5 L55 12 L55 50 C55 65 35 75 35 75 C35 75 15 65 15 50 L15 12 Z" 
                                              fill="none" stroke="url(#shieldGradient)" stroke-width="4"/>
                                        
                                        <path d="M35 10 L50 15 L50 48 C50 60 35 68 35 68 C35 68 20 60 20 48 L20 15 Z" 
                                              fill="url(#shieldGradient)" opacity="0.2"/>
                                        
                                        <path d="M25 40 L32 47 L45 30" stroke="url(#shieldGradient)" stroke-width="5" 
                                              stroke-linecap="round" fill="none"/>
                                        
                                        <circle cx="35" cy="25" r="2" fill="url(#shieldGradient)">
                                            <animate attributeName="opacity" values="0.5;1;0.5" dur="2s" repeatCount="indefinite"/>
                                        </circle>
                                        <circle cx="28" cy="32" r="1.5" fill="url(#shieldGradient)">
                                            <animate attributeName="opacity" values="1;0.5;1" dur="2.5s" repeatCount="indefinite"/>
                                        </circle>
                                        <circle cx="42" cy="32" r="1.5" fill="url(#shieldGradient)">
                                            <animate attributeName="opacity" values="0.7;1;0.7" dur="1.8s" repeatCount="indefinite"/>
                                        </circle>
                                    </g>
                                </svg>
                            </div>
                            <h3 class="feature-title">Cryptographic Trust</h3>
                            <p class="feature-description">Every transaction cryptographically verified and permanently recorded. Zero counterparty risk, maximum transparency.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="cta-section">
                <h2 class="cta-title">Ready to Transform Payments?</h2>
                <p class="cta-subtitle">Start requesting and paying across any blockchain in seconds</p>
                <button class="pay-request-btn" onclick="showRequestPage()">PAY / REQUEST</button>
            </div>
        </div>

        <!-- REQUEST PAGE -->
        <div class="request-page" id="requestPage">
            <button class="back-btn" onclick="showHome()">‚Üê Back to Home</button>
            
            <div class="main-content">
                <div class="request-form">
                    <h1 class="form-title" id="formTitle">Request 20 ETH<br>from Ben</h1>
                    
                    <div class="form-group">
                        <label class="form-label">Asset</label>
                        <div class="form-row">
                            <select class="form-input" id="assetSelect" onchange="updateAsset()">
                                <option value="ETH">ETH - Ethereum</option>
                                <option value="BTC">BTC - Bitcoin</option>
                                <option value="XRP">XRP - Ripple</option>
                                <option value="USDC">USDC - USD Coin</option>
                                <option value="USDT">USDT - Tether</option>
                                <option value="ADA">ADA - Cardano</option>
                                <option value="SOL">SOL - Solana</option>
                                <option value="DOT">DOT - Polkadot</option>
                            </select>
                            <input type="number" class="form-input" id="amountInput" value="20" step="0.01" min="0" placeholder="Amount" onchange="updateAmount()">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Recipient</label>
                        <input type="text" class="form-input" id="recipientInput" value="ben.eth" placeholder="Enter recipient name or address" onchange="updateRecipient()">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Message</label>
                        <input type="text" class="form-input" id="messageInput" value="lunch / a cool NFT / bi-thday gift" placeholder="Add a message...">
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Expiry</label>
                            <select class="form-input" id="expirySelect">
                                <option value="1">1 day</option>
                                <option value="3">3 days</option>
                                <option value="7" selected>1 week</option>
                                <option value="14">2 weeks</option>
                                <option value="30">1 month</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Slippage</label>
                            <select class="form-input" id="slippageSelect">
                                <option value="0.1">0.1%</option>
                                <option value="0.5" selected>0.5%</option>
                                <option value="1.0">1.0%</option>
                                <option value="2.0">2.0%</option>
                                <option value="5.0">5.0%</option>
                            </select>
                        </div>
                    </div>

                    <button class="create-request-btn" onclick="createRequest()">Create Request</button>
                </div>

                <div class="info-panel">
                    <div class="live-conversion">
                        <div class="conversion-header">
                            <span>Live Conversion</span>
                            <span class="pulse">‚ìò</span>
                        </div>
                        <div class="conversion-amount">20 ETH ‚âà</div>
                        <div class="conversion-xrp">‚âà 10,000 XRP</div>
                        <div class="conversion-source">via Flare Oracle</div>
                        
                        <div class="pay-with-xumm">
                            <div class="xumm-icon">X</div>
                            <span>Pay with XUMM</span>
                        </div>
                        
                        <div class="demo-payment-section">
                            <button class="demo-payment-btn" onclick="testPayment()" id="demoPayBtn">
                                üíé Test XRPL Payment
                            </button>
                            <div class="demo-note" style="font-size: 0.8em; margin-top: 5px; opacity: 0.7;">
                                Demo: Pay last created request
                            </div>
                            
                            <button class="hash-info-btn" onclick="showHashInfo()" style="
                                background: linear-gradient(45deg, #2196F3, #1976D2);
                                color: white;
                                border: none;
                                padding: 8px 16px;
                                border-radius: 8px;
                                cursor: pointer;
                                font-size: 0.85em;
                                margin-top: 8px;
                                width: 100%;
                            ">
                                üîç Show Transaction Hash
                            </button>
                        </div>
                    </div>

                    <div class="crowdfund-section">
                        <h3 class="section-title">Crowdfund</h3>
                        <div class="qr-section">
                            <div class="qr-icon">
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2px;">
                                    <div style="width: 4px; height: 4px; background: #c1e328;"></div>
                                    <div style="width: 4px; height: 4px; background: #c1e328;"></div>
                                    <div style="width: 4px; height: 4px; background: #c1e328;"></div>
                                    <div style="width: 4px; height: 4px; background: #c1e328;"></div>
                                </div>
                            </div>
                            <span>QR code</span>
                        </div>
                        <div class="crowdfund-link">venmorph.app/request/v...</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pay Page -->
        <div class="pay-page" id="payPage" style="display: none;">
            <button class="back-btn" onclick="showHome()">‚Üê Back to Home</button>
            
            <div class="pay-content">
                <!-- Send Money Section -->
                <div class="pay-send-section">
                    <div class="send-form">
                        <h1 class="form-title" id="payFormTitle">Send 20 XRP<br>to Alice</h1>
                        
                        <div class="form-group">
                            <label class="form-label">Asset</label>
                            <div class="form-row">
                                <select class="form-input" id="payAssetSelect" onchange="updatePayAsset()">
                                    <option value="XRP">XRP - Ripple</option>
                                    <option value="ETH">ETH - Ethereum</option>
                                    <option value="BTC">BTC - Bitcoin</option>
                                    <option value="USDC">USDC - USD Coin</option>
                                    <option value="USDT">USDT - Tether</option>
                                    <option value="ADA">ADA - Cardano</option>
                                    <option value="SOL">SOL - Solana</option>
                                    <option value="DOT">DOT - Polkadot</option>
                                </select>
                                <input type="number" class="form-input" id="payAmountInput" value="20" step="0.01" min="0" placeholder="Amount" onchange="updatePayAmount()">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Recipient</label>
                            <input type="text" class="form-input" id="payRecipientInput" value="alice.eth" placeholder="Enter recipient name or address" onchange="updatePayRecipient()">
                        </div>

                        <div class="form-group">
                            <label class="form-label">Message</label>
                            <input type="text" class="form-input" id="payMessageInput" placeholder="Add a message..." value="Thanks for dinner!">
                        </div>

                        <button class="send-payment-btn" onclick="sendPayment()">Send Payment</button>
                    </div>

                    <div class="pay-info-panel">
                        <div class="live-conversion">
                            <div class="conversion-header">
                                <span>Live Conversion</span>
                                <span class="pulse">‚ìò</span>
                            </div>
                            <div class="conversion-amount" id="payConversionAmount">100 XRP ‚âà</div>
                            <div class="conversion-xrp" id="payConversionXrp">‚âà 62.00 USDT</div>
                            <div class="conversion-source">via Flare Oracle</div>
                        </div>
                    </div>
                </div>

                <!-- Pending Requests Section -->
                <div class="pending-requests-section">
                    <h2 class="section-title">
                        <span class="section-icon">üì®</span>
                        Pending Requests
                    </h2>
                    
                    <div class="requests-container" id="requestsContainer">
                        <!-- Requests will be loaded here -->
                        <div class="no-requests" id="noRequestsMessage">
                            <div class="no-requests-icon">üì≠</div>
                            <div class="no-requests-text">No pending requests</div>
                            <div class="no-requests-subtext">Create a request to get started</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="navigation.js"></script>
    <script src="wallet.js"></script>
    <script src="forms.js"></script>
    <script src="animations.js"></script>
    <script src="main.js"></script>
</body>
</html>